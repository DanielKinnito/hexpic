{"version":3,"file":"index.js","sources":["../src/utils.ts","../src/HexPic.ts","../src/react.ts"],"sourcesContent":[null,null,null],"names":["rgbToGrayscale","r","g","b","Math","round","adjustContrast","value","contrast","adjusted","min","max","adjustBrightness","brightness","getAsciiChar","charset","normalized","pow","index","floor","length","DEFAULT_OPTIONS","width","height","invert","preserveAspectRatio","backgroundColor","HexPic","constructor","options","this","canvas","document","createElement","ctx","getContext","willReadFrequently","Error","setOptions","fromImageElement","image","convertImage","fromUrl","url","Promise","resolve","reject","img","Image","crossOrigin","onload","onerror","e","src","loadImage","fromFile","file","reader","FileReader","async","_a","target","result","err","readAsDataURL","currentOptions","targetWidth","targetHeight","aspectRatio","color","fillStyle","fillRect","drawBackground","drawImage","data","getImageData","ascii","y","x","i","gray","defaultOptions","setResult","useState","isLoading","setIsLoading","error","setError","optionsRef","useRef","useEffect","current","convert","useCallback","source","mergedOptions","hexpic","res","File","String","_b","_c"],"mappings":"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"}